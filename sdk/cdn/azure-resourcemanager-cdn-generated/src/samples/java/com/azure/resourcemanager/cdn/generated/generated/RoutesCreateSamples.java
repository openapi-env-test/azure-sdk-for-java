// Copyright (c) Microsoft Corporation. All rights reserved.
// Licensed under the MIT License.
// Code generated by Microsoft (R) AutoRest Code Generator.

package com.azure.resourcemanager.cdn.generated.generated;

import com.azure.core.management.serializer.SerializerFactory;
import com.azure.core.util.serializer.SerializerEncoding;
import com.azure.resourcemanager.cdn.generated.models.ActivatedResourceReference;
import com.azure.resourcemanager.cdn.generated.models.AfdEndpointProtocols;
import com.azure.resourcemanager.cdn.generated.models.AfdQueryStringCachingBehavior;
import com.azure.resourcemanager.cdn.generated.models.AfdRouteCacheConfiguration;
import com.azure.resourcemanager.cdn.generated.models.EnabledState;
import com.azure.resourcemanager.cdn.generated.models.ForwardingProtocol;
import com.azure.resourcemanager.cdn.generated.models.HttpsRedirect;
import com.azure.resourcemanager.cdn.generated.models.LinkToDefaultDomain;
import com.azure.resourcemanager.cdn.generated.models.ResourceReference;
import java.io.IOException;
import java.util.Arrays;

/** Samples for Routes Create. */
public final class RoutesCreateSamples {
    /*
     * x-ms-original-file: specification/cdn/resource-manager/Microsoft.Cdn/stable/2021-06-01/examples/Routes_Create.json
     */
    /**
     * Sample code: Routes_Create.
     *
     * @param manager Entry point to CdnManager.
     */
    public static void routesCreate(com.azure.resourcemanager.cdn.generated.CdnManager manager) throws IOException {
        manager
            .routes()
            .define("route1")
            .withExistingAfdEndpoint("RG", "profile1", "endpoint1")
            .withCustomDomains(
                Arrays
                    .asList(
                        new ActivatedResourceReference()
                            .withId(
                                "/subscriptions/subid/resourceGroups/RG/providers/Microsoft.Cdn/profiles/profile1/customDomains/domain1")))
            .withOriginGroup(
                new ResourceReference()
                    .withId(
                        "/subscriptions/subid/resourceGroups/RG/providers/Microsoft.Cdn/profiles/profile1/originGroups/originGroup1"))
            .withRuleSets(
                Arrays
                    .asList(
                        new ResourceReference()
                            .withId(
                                "/subscriptions/subid/resourceGroups/RG/providers/Microsoft.Cdn/profiles/profile1/ruleSets/ruleSet1")))
            .withSupportedProtocols(Arrays.asList(AfdEndpointProtocols.HTTPS, AfdEndpointProtocols.HTTP))
            .withPatternsToMatch(Arrays.asList("/*"))
            .withCacheConfiguration(
                new AfdRouteCacheConfiguration()
                    .withQueryStringCachingBehavior(AfdQueryStringCachingBehavior.IGNORE_SPECIFIED_QUERY_STRINGS)
                    .withQueryParameters("querystring=test")
                    .withCompressionSettings(
                        SerializerFactory
                            .createDefaultManagementSerializerAdapter()
                            .deserialize(
                                "{\"contentTypesToCompress\":[\"text/html\",\"application/octet-stream\"],\"isCompressionEnabled\":true}",
                                Object.class,
                                SerializerEncoding.JSON)))
            .withForwardingProtocol(ForwardingProtocol.MATCH_REQUEST)
            .withLinkToDefaultDomain(LinkToDefaultDomain.ENABLED)
            .withHttpsRedirect(HttpsRedirect.ENABLED)
            .withEnabledState(EnabledState.ENABLED)
            .create();
    }
}
